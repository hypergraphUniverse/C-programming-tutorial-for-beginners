# 附件1-多人协同交作业

这个附件指导了怎样多人在GitHub上面交作业的。阅读对象是学生，即交作业的人。



## 1. 申请你的GitHub帐号

就在GitHub上方可以申请账号

<img src=".\引用图片\001.png" align="left" width="800" />



进入，注册，填写的邮箱必须是有效的，验证邮箱……

除了账号名是必须的，邮箱不能是假的，密码必须要记住这三点（其实也就是废话），其他的个人资料可以不填或者乱填。



## 2. 下载GitHub Desktop/Git

这里写的很简略，实际上你可以看这里[官网指导](https://docs.github.com/en/desktop/getting-started-with-github-desktop/setting-up-github-desktop)



1. 进入这个页面，下载一下GitHub Desktop，并且安装：https://desktop.github.com/

2. 在GitHub Desktop上把你的GitHub帐号登录好。
3. 然后进入这个页面下载Git，并且安装：https://git-scm.com/downloads.
4. 然后通过GitHub Desktop配置Git的邮箱：其实[这个介绍](https://docs.github.com/en/desktop/getting-started-with-github-desktop/configuring-git-for-github-desktop)更详细

把你在GitHub上面注册的邮箱填写在这里

<img src=".\引用图片\002.png" align="center" width="300" />

<img src=".\引用图片\003.png" align="center" width="600" />

名字随便填写，就Email对的上就是了



## 成为仓库的协作者

### 成为协作者的方法

1. 通知教学者，让他邀请你成为协作者。
2. 你获得了协作者的邀请邮件以后，点击邮件里面的同意，成为协作者。
3. 将已经获得协作权限的仓库在本地保存下来，如下图所示。

<img src=".\引用图片\004.png" align="left" width="800" />

4. 下载到本地之后，和教学者联系，让他给你开一个branch

下面的介绍就要混合着一些原理教学了



### 介绍一下git

git就是一种多人协作写代码的好工具，我们用它来管控作业。

1. 如果说想要几个人一起交作业，那么我们就需要公用一个仓库repository（人数不多的话可以开一个私人的仓库）

2. 仓库(以下简称repo)在GitHub上就是存储物体的基本单元。我们在同一个repo里面开不同的分支(以下简称branch)，教学者占用主分支(master)，每一个需要交作业的人自己独占一个给自己开的branch。

<img src=".\引用图片\005.png" align="center" width="400" />

3. 然后你们各自提交的内容只会在自己的branch上面产生影响。教学者会不断更新你们的branch。这样就达到了交作业和收作业的操作。



### 你应该做的操作

1. 打开GitHub Desktop，观察你是不是在自己的branch上面。尤其是第一次获得repo的时候，你默认在master上面。需要和教学者联系好，开了属于你的branch之后切换到自己的branch上面

<img src=".\引用图片\007.png" align="left" width="800" />



2. 确认branch准确无误之后，应该做的事情是先Fetch，即从远程的网络将最新版本的内容下载下来

<img src=".\引用图片\006.png" align="left" width="800" />



3. 下载完成之后打开本地位置，一般是在你的“文档-GitHub”下面有一个和repo同名的文件夹，那里就是属于你编辑提交文件的地方。在那个文件夹里面做作业或者操作。

<img src=".\引用图片\008.png" align="center" width="400" />



4. 操作完成之后，你会发现GitHub Desktop上面会出现对应的变化，表示你对这个文件夹里面的内容做出了什么样子的变动。确认之后左侧下方填写简述，然后点击提交commit——这个是本地的提交。本地的提交仅仅表明你让git记住了你的这一侧变动。

<img src=".\引用图片\009.png" align="left" width="800" />



5. commit完成之后仅仅是在本地认同了这个变动，如果说希望上交作业，请点击上方的push，即将你的变动发布到repo里面。这样教学者就可以看到你的代码了。

<img src=".\引用图片\010.png" align="left" width="800" />



6. 每一次commit相当于就在本地保存了一次快照，而push就是一次性将这些快照全部发布到repo里面的行为。如果说你对某一次commit并不满意，总之你想取消某一次commit，这个就体现了git版本管理的便利之处了——你可以撤销你做过的commit，即使你本地已经将文件保存，编辑器已经关闭了。相当于commit就是一个“系统层面的保存按钮”。

   具体操作是，界面中进入History，看到你想要撤销的commit，右键逆转Revert它。

<img src=".\引用图片\011.png" align="left" width="600" />



7. 需要注意的是，Revert操作本身需要再一次push。你的Revert和commit是互相抵消的操作，在结论上撤回了，但是快照和撤回两个操作是会留下记录的。不过收作业的时候肯定看的是最后的结论而已。

8. 一个建议是，不论怎样，退出软件之前要保持自己做一次push，不要留本地commit。

9. 另外一个，因为我们是多人交作业，因此不要动这些操作（除非是教学者）

   <img src=".\引用图片\012.png" align="left" width="600" />



### 错误的应对方法

需要**决定冲突版本**，这种情况发生的比较少，你大约会看到这样一个窗口，然后你只能选择Fetch：

<img src=".\引用图片\013.png" align="left" width="600" />

然后当你几次操作之后最终出现了如下的情况：

<img src=".\引用图片\014.png" align="left" width="800" />

你需要解决冲突。这意味着，某一个文件在你push的时候，你进行了编辑，但是网络上已经有人对同一个文件进行了编辑，并且已经push了。这种情况很少见，除非：

1. 教学者某一个地方写错了，它改正之后进行了push，你正好一不小心在本地把教学者的某个文件移动了。针对这个的建议就是，不要改动教学者的参考答案和程序。
2. 有人不小心进入了你的branch，把你的文件改了。这种情况无法避免，每一个使用者要注意的就是，常常检查自己是否在自己的branch里面，不要进错分支了，这个的结果就和走错屋子睡觉一样尴尬😂

这种情况下你可以手动修复。这里上面一个区块是你本地的结果，下面是改动的结果。删除掉其他东西，内容二选一就可以了（只留下一行）。

<img src=".\引用图片\015.png" align="left" width="800" />



但是如果自己没有能力进行判断，或者情况已经复杂到你无法自己处理了，需要快速联系教学者，让教学者来进行辅助。如果是某人错误地写错了分支，教学者会帮助改正错误的commit到自己的分支里面。你只需要在排除了错误之后再fetch一次即可。