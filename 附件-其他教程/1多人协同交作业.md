# 附件1-多人协同交作业

这个附件指导了怎样多人在GitHub上面交作业。阅读对象是学生，即交作业的人。

&nbsp;

## 1. 申请你的GitHub帐号

就在GitHub上方可以申请账号

<img src=".\引用图片\001.png" style="float:left;" width="800" />

&nbsp;

进入，注册，填写的邮箱必须是有效的，验证邮箱……

除了账号名是必须的，邮箱不能是假的，密码必须要记住这三点（其实也就是废话），其他的个人资料可以不填或者乱填。

&nbsp;

## 2. 下载GitHub Desktop/Git

这里写的很简略，实际上你可以看这里[官网指导](https://docs.github.com/en/desktop/getting-started-with-github-desktop/setting-up-github-desktop)

&nbsp;

1. 进入这个页面下载Git，并且安装：https://git-scm.com/downloads.

   Git安装很长，不用担心，一路默认过去。安装流程结束就好了，不需要运行任何东西。

2. 在GitHub Desktop上把你的GitHub帐号登录好。

3. 进入这个页面，下载GitHub Desktop，并且安装：https://desktop.github.com/

4. 然后通过GitHub Desktop登录你的GitHub帐号，登录进去就行了。

&nbsp;

&nbsp;

## 成为仓库的协作者

上述安装完成之后，找到教学者，进行操作。

### 成为协作者的方法

1. 通知教学者，让他邀请你成为作业本仓库的协作者（和教程本体不是一个仓库）。
2. 你获得了协作者的邀请邮件以后，点击邮件里面的同意，成为协作者。
3. 将已经获得协作权限的仓库在本地保存下来，如下图所示。

<img src=".\引用图片\004.png" style="float:left;" width="800" />

4. 下载到本地之后，和教学者联系，让他给你开一个branch

下面的介绍就要混合着一些原理教学了。

&nbsp;

### 介绍一下git

git就是一种多人协作写代码的好工具，我们用它来管控作业。

1. 如果说想要几个人一起交作业，那么我们就需要公用一个仓库repository（人数不多的话可以开一个私人的仓库）

2. 仓库(以下简称repo)在GitHub上就是存储物体的基本单元。我们在同一个repo里面开不同的分支(以下简称branch)，教学者占用主分支(master)，每一个需要交作业的人自己独占一个给自己开的branch。

<p align="center">
  <img src=".\引用图片\005.png" width="500" />
  <p align="center">learngitbranching.js.org, pcottle/learnGitBranching on github.com, under MIT</p>
</p>


3. 然后你们各自提交的内容只会在自己的branch上面产生影响。教学者会不断更新你们的branch。这样就达到了交作业和收作业的操作。

&nbsp;

### 你应该做的操作

1. 你需要在之前成为协作者，同意了右键。并且把作业本已经clone到了本地的GitHub Desktop上。如果这一步还没完成回头向上看。
2. 打开GitHub Desktop，观察你是不是在自己的branch上面。尤其是第一次获得repo的时候，你默认在master上面。需要和教学者联系好，开了属于你的branch之后切换到自己的branch上面

<img src=".\引用图片\007.png" style="float:left;" width="800" />

&nbsp;

3. 确认branch准确无误之后，应该做的事情是先Fetch，即从远程的网络将最新版本的内容下载下来

<img src=".\引用图片\006.png" style="float:left;" width="800" />

&nbsp;

4. 下载完成之后打开本地位置，一般是在你的“文档-GitHub”下面有一个和repo同名的文件夹，那里就是属于你编辑提交文件的地方。在那个文件夹里面做作业或者操作。

<img src=".\引用图片\008.png" style="float:left;" width="600" />

&nbsp;

5. 操作完成，保存之后，你会发现GitHub Desktop上面会出现对应的变化，表示你对这个文件夹里面的内容做出了什么样子的变动。确认之后左侧下方填写简述，然后点击提交commit——这个是本地的提交。本地的提交仅仅表明你让git记住了你的这一次变动。

<img src=".\引用图片\009.png" style="float:left;" width="800" />

&nbsp;

6. commit完成之后仅仅是在本地认同了这个变动，如果说希望上交作业，请点击上方的push，即将你的变动发布到repo里面。这样教学者就可以看到你的代码了。

<img src=".\引用图片\010.png" style="float:left;" width="800" />

&nbsp;

7. 每一次commit相当于就在本地保存了一次快照，而push就是一次性将这些快照全部发布到repo里面的行为。如果说你对某一次commit并不满意，或者因为其他的原因，总之你想取消某一次commit，这个就体现了git版本管理的便利之处了

   你大可不必将你的代码手动该回去，可以直接在GitHub Desktop里面撤销你做过的commit，即使你本地已经将文件保存，编辑器已经关闭了。

   从这个角度来看，git相当于就是一个“系统层面的文件保存按钮”。

   具体操作是，界面中进入History，看到你想要撤销的commit，右键逆转Revert它。

<p align="center">
  <img src=".\引用图片\011.png" width="600" />
</p>
&nbsp;

8. 需要注意的是，Revert操作本身需要再一次push。你的Revert和commit是互相抵消的操作，在结论上撤回了，但是快照和撤回两个操作是会留下记录的。不过收作业的时候肯定看的是最后的结论而已。

9. 另外，因为我们是多人交作业，因此不要动这些操作（除非是教学者）

   如果你发现master里面发布了新的内容，在你充分了解git的原理下，可以使用Update from master，相当于获取新的作业。

<p align="center">
  <img src=".\引用图片\012.png" width="500" />
</p>

&nbsp;

其实我们可以总结一下这些操作的思维模型：

<img src=".\引用图片\021.png" style="float:left;" width="800" />



### 一些常见错误的应对方法

需要**决定冲突版本**，这种情况发生的比较少。

在Push时，你会看到这样一个窗口，告诉你，实际上的版本的你的本地版本不一样，然后你选择了Fetch：

<p align="center">
  <img src=".\引用图片\013.png" width="500" />
</p>

几次操作之后，最终出现了如下的情况：

<img src=".\引用图片\014.png" style="float:left;" width="800" />

你需要解决冲突！这个窗口意味着，某一个文件在你push的时候，你进行了编辑，但是网络上已经有人对同一个文件进行了编辑，并且已经push了。

下图中C1指原文，C2，C3是对其的变动。你们两个人对同一个文件进行了改变，因此在后提交的人身上就发生了冲突。

<p align="center">
  <img src=".\引用图片\022.png" width="600" />
</p>

这种情况很少见，除非：

1. 教学者某一个地方写错了，它改正之后进行了push，你正好一不小心在本地把教学者的某个文件移动了。针对这个的建议就是，不要改动教学者的参考答案和程序。
2. 有人不小心进入了你的branch，把你的文件改了。这种情况无法避免，每一个使用者要注意的就是，常常检查自己是否在自己的branch里面，不要进错分支了，这个的结果就和走错屋子睡觉一样尴尬😂

这种情况下你可以手动修复。这里上面一个HEAD区块是你本地的结果，下面一串字母的，是网络上最新变动的结果。删除掉其他东西，内容二选一就可以了（只留其中一个正文。不要的正文、分割线、箭头、HEAD和那一串字母全部删掉）。

<img src=".\引用图片\015.png" style="float:left;" width="800" />

&nbsp;

但是如果自己没有能力进行判断，或者情况已经复杂到你无法自己处理了，需要快速联系教学者，让教学者来进行辅助。如果是某人错误地写错了分支，教学者会帮助改正错误的commit到自己的分支里面。

（请不要犯走错分支的错误！把错误的操作cherry-pick到另外一个branch会让人很头疼的！）

&nbsp;

最终建议：

1.每一次打开软件，退出软件之前push/pull一次，保持本地和网络一致.

2.对自己处理能力不自信的，一开始出现警告窗口立马取消fetch，速速联系教学者，陈述当下的状况，联系解决问题。

&nbsp;

------

作者 - Author: Thomas Yao

GitHub名 - GitHub username: [hypergraphUniverse](https://github.com/hypergraphUniverse)

联系作者邮箱 - Email：hypergraphUniverse@outlook.com

![](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)

除非另有说明或授权，本文档中的内容，包括但不限于文字以及原创图片按照[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)协议发布。请在遵守协议的情况下使用本文档，请注意下方对某些情况的法律提醒，**尤其**是在各类**自媒体平台上转发**的说明。请适当且明显地标注出处。

This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy of this license, visit [http://creativecommons.org/licenses/by-nc-sa/4.0/](http://creativecommons.org/licenses/by-nc-sa/4.0/) or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA. Please indicate the source clearly and appropriately when using. 

&nbsp;

法律提醒：

CC协议对于作品的转载与使用的约束相较于传统版权较为宽松，但是您仍然需要在使用的时候严格遵守协议，充分尊重版权。下面的文字，提供了详细的解释，希望您能够阅读后注意。如果如下文本的解释与原[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)协议有出入，请以原协议解释为准。

&nbsp;

本协议允许您对于本作品进行使用以及改编，但是您需要在使用、改编、再发布的过程中遵守以下的要求：

1. **保留著名权**。您使用本作品的行为必须给出适当的**原作者署名**，以及提供指向**本许可协议的链接**，同时**标明是否**对原始作品作了**修改**。

   适当的著名包括但不限于原作者的名字，以及指向原作品的链接等。这里建议您在转载过程中，至少要加入如上的两个原作者信息。且请您务必在显著的位置上进行原作者著名。

2. **非商用**。您不得将本作品以及基于本作品的改编内容用于商用目的。

   需要注意的是，商用目的**并非仅仅意味着获得金钱**的收入，在转发到自媒体平台上时尤其需要注意，详情参见后面的注意事项。

3. **遵守同协议**。如果您再混合、转换或者基于本作品进行创作，您必须**基于与原先许可协议相同的许可协议**分发您贡献的作品。

   您可以在Common Creative官网上找到和CC BY-NC-SA 4.0相兼容的协议。

&nbsp;

您需要注意的一些事情：

1. 非商用（NC）的限制并非仅仅意味着直接的金钱收入。非商用的限制对象包括了直接或者非直接获得利益。

   很明显，在没有原作者的授权下，您**不能**将作为**收费文章**转发，否则违反了本协议；如果您将本文章以**免费文章**的形式转发于某种形式的自媒体，其获得的**观众打赏，流量分成或者广告分成**仍然属于一种商业利益，其也是违反本协议的非商业限制要求的；即使您**关闭**掉了打赏或者广告等**收益功能**，并未从中获得任何直接的金钱利益，您仍然有利用本文章**提高您知名度**的嫌疑，其也会被视作一种商业利益。即使最终本作品**未给您带来任何实际的流量**，您实际上已违反了本协议。

   如果您将本作品进行**改编**，例如制作成视频，将其发布在任一平台上，您仍然面对如上相同的情况。且改编人不得不面对SA条款带来的更多约束。

   非商用协议也并**不豁免**您将本作品在**教育行业中的使用**。因为NC条款是基于目的而非身份进行定义的。

   很明显，收费的培训机构是无法直接使用本材料的，因为您将这份材料转换为了商业利益。但是，本协议并未限制您将本作品列入您向学生分发的推荐读物清单中，因为您并未在这个行为上进行任何涉及本材料的发布行为。

   &nbsp;

2. 在和**原作者的协商和正式约定**下，您可以按照新的约定，将本作品进行使用，包括商业使用。这相当于您单独从原作者手中获得了另一份使用协议。由于CC协议是一种许可协议而非限制协议，所以两者是不冲突的。

   &nbsp;

3. **如果您违反了本协议**，那么您获得的CC**许可证书**将立即**自动终止**。按照4.0协议，您有30天的窗口期可以修复您的失误以重新使得CC许可证书生效。

   如果您手上的CC许可证书因为您违反协议的行为而失效，您对于本作品的使用则是**无授权的，是侵权行为**。按照《中华人民共和国著作权法》（如果您不是中国人，仍然会因为中国加入了《保护文学和艺术作品伯尔尼公约》，适用于您本国的著作权相关法规。世界上仅有少数国家未加入此公约），您会被追究责任，会面临**撤回侵权内容、公开致歉、补偿稿费**等合法要求。需要注意的是，30天的窗口期恢复证书仅仅在少量情况发挥作用，例如我在这30天中取消了所有获得本作品的途径，您可以通过窗口期重新获得协议而不需要重新授权。在您未恢复您的失误前，您手上的CC许可证书依然是无效的，将面临被追究法律责任的风险。

   请您不要冒险，如果我发现**未授权的行为**，将会及时固定证据链，并且**从重追究**。

&nbsp;

综合1,2,3可以看出来，对于各类公众平台或自媒体的转发或者改编，都有违反本协议NC条款的风险，而这是极其容易发生的。但如果您获得了新的授权，则完全不需要产生类似的担忧，因此强烈建议您在转发的时候联系原作者获得更多的授权。

&nbsp;

我采用CC协议的一个初衷就是希望更多的人能够从中学习到知识，让知识能够更加轻松地共享出去，CC协议保障了阅读者自由使用它的权力。在此之上，我对于本作品的传播自然是欢迎的，而且我也欢迎有人能够将其改编为视频。对NC和SA条款的保留，主要是我不希望自己接近于无偿的工作被其他人直接当作获得各种利益的手段。

